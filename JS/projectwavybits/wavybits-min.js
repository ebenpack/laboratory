X="slice";Y=600;Z=99;
function s(f,g,h){m=[];for(D=0;9>D;D++){var e=4*D,e=q[X](e,e+2)*f+q[X](e+2,e+4)*g;n=D?5>D?1/9:1/36:4/9;m[D]=n*h*(1+3*e+4.5*e*e-1.5*(f*f+g*g))}}with(Math)S=sqrt,P=pow,F=floor;var k=[],p,f,g,m=[],t=1,n,q=" 0 0 1 0 0-1-1 0 0 1 1-1-1-1-1 1 1 1";a.onmousemove=function(f){for(M=-16;17>M;M++){var g=k[F(f.layerX/6+M/5)][F(f.layerY/6)+M%5];s(.1,.1,g.n);g.s=m}};(function u(){I=c.createImageData(Y,Y);L=I.data;for(p=0;Z*Z>p;p++){g=F(p/Z);f=p%Z;t&&(0==g&&(k[f]=[]),k[f][g]={d:[],s:[],
n:1,x:0,y:0},s(0,0,1),k[f][g].s=m);var h=k[f][g],e=h.d,e=h.s[X](0),l=e[1]+e[5]+e[8],n=e[3]+e[6]+e[7],r=l+n+e[0]+e[2]+e[4];h.x=(l-n)/r;h.y=(e[4]+e[7]+e[8]-e[2]-e[5]-e[6])/r;h.n=r;s(h.x,h.y,r);for(i=0;9>i;i++)h.d[i]=e[i]+1.7*(m[i]-e[i]);for(i=0;36>i;i++)h=4*(i%6+6*f+Y*(F(i/6)+6*g)),L[h+1]=Z*Z,L[h+3]=F(4E3*S(P(k[f][g].x,2)+P(k[f][g].y,2)))}c.putImageData(I,0,0);for(Q=t=0;Z*Z>Q;Q++)for(g=F(Q/Z),f=Q%Z,h=k[f][g],K=0;9>K;K++)H=4*K,e=1*q[X](H,H+2)+f,l=1*q[X](H+2,H+4)+g,0<=e&&Z>e&&0<=l&&Z>
l&&(k[e][l].s[K]=h.d[K]);setTimeout(u)})()