function t(f,g,k){r=[];for(var d=0;9>d;d++){var e=u[d],e=e[0]*f+e[1]*g;r[d]=u[d][2]*k*(1+3*e+4.5*e*e-1.5*(f*f+g*g))}}with(Math)S=sqrt,P=pow,F=floor;var Z=100,Y='width',m=[],f,g,l,r=[],p=1/9,s=1/36,v=1,u=[[0,0,4/9],[1,0,p],[0,-1,p],[-1,0,p],[0,1,p],[1,-1,s],[-1,-1,s],[-1,1,s],[1,1,s]],q=F(a[Y]/Z);a[Y]=a.height=Z*q;a.onmousemove=function(f){for(var g=-25;25>=g;g++){var k=m[F(f.layerX/q)+F(g/5)][F(f.layerY/q)+g%5];t(.1,.1,k.c);k.a=r}};(function w(){var k=c.createImageData(a[Y],a.height),d=
k.data;for(f=0;1E4>f;f++){l=F(f/Z);g=f%Z;v&&(0==l&&(m[g]=[]),m[g][l]={a:[],b:[],c:1,x:0,y:0},t(0,0,1),m[g][l].b=r.slice(0),m[g][l].a=r.slice(0));for(var e=S(P(m[g][l].x,2)+P(m[g][l].y,2)),h=l*q;h<(l+1)*q;h++)for(var n=g*q;n<(g+1)*q;n++){var p=4*(n+h*k[Y]);d[p+1]=1E4;d[p+3]=F(4E3*e)}}c.putImageData(k,0,0);for(f=v=0;1E4>f;f++)for(l=F(f/Z),g=f%Z,k=m[g][l],d=0;9>d;d++)h=u[d],e=h[0]+g,h=h[1]+l,0<=e&&Z>e&&0<=h&&Z>h&&(m[e][h].b[d]=k.a[d]);for(f=0;1E4>f;f++)for(k=m[f%Z][F(f/Z)],d=k.a,d=
k.b.slice(0),h=d[1]+d[5]+d[8],n=d[3]+d[6]+d[7],e=h+n+d[0]+d[2]+d[4],h=(h-n)/e,n=(d[4]+d[7]+d[8]-d[2]-d[5]-d[6])/e,k.c=e,k.x=h,k.y=n,t(h,n,e),e=0;9>e;e++)h=d[e],k.a[e]=h+1.7*(r[e]-h);setInterval(w,10)})()