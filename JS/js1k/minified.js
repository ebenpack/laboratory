X="slice";Y=600;Z=99;
function g(n,f,e){h=[];for(var d=0;9>d;d++){var b=k[X](4*d,4*d+2)*n+k[X](4*d+2,4*d+4)*f;l=d?5>d?1/9:1/36:4/9;h[d]=l*e*(1+3*b+4.5*b*b-1.5*(n*n+f*f))}}with(Math)S=sqrt,P=pow,F=floor;var p=[],q,s,t,h=[],u=1,l,k=" 0 0 1 0 0-1-1 0 0 1 1-1-1-1-1 1 1 1";a.width=a.height=Y;a.onmousemove=function(n){for(var f=-16;17>f;f++){var e=p[F(n.layerX/6+f/5)][F(n.layerY/6)+f%5];g(.1,.1,e.c);e.a=h}};
(function w(){var f=c.createImageData(Y,Y),e=f.data;for(q=0;Z*Z>q;q++){t=F(q/Z);s=q%Z;u&&(0==t&&(p[s]=[]),p[s][t]={b:[],a:[],c:1,x:0,y:0},g(0,0,1),p[s][t].a=h);var d=p[s][t],b=d.b,b=d.a[X](0),m=b[1]+b[5]+b[8],v=b[3]+b[6]+b[7],r=m+v+b[0]+b[2]+b[4];d.x=(m-v)/r;d.y=(b[4]+b[7]+b[8]-b[2]-b[5]-b[6])/r;d.c=r;g(d.x,d.y,r);for(m=0;9>m;m++)d.b[m]=b[m]+1.7*(h[m]-b[m]);for(d=0;36>d;d++)b=4*(d%6+6*s+Y*(F(d/6)+6*t)),e[b+1]=Z*Z,e[b+3]=F(4E3*S(P(p[s][t].x,2)+P(p[s][t].y,2)))}c.putImageData(f,0,0);for(q=u=0;Z*Z>q;q++)for(t=
F(q/Z),s=q%Z,f=p[s][t],e=0;9>e;e++)d=1*k[X](4*e,4*e+2)+s,b=1*k[X](4*e+2,4*e+4)+t,0<=d&&Z>d&&0<=b&&Z>b&&(p[d][b].a[e]=f.b[e]);setTimeout(w)})()