function r(d,f,h){p=[];for(var b=0;9>b;b++){var e=s[b],e=e[0]*d+e[1]*f;p.push(s[b][2]*h*(1+3*e+4.5*e*e-1.5*(d*d+f*f)))}}var k=[],d,f,p=[],u=4/9,l=1/9,q=1/36;with(Math)S=sqrt,P=pow,F=floor;var Z=125;Y='width',n=F(a[Y]/Z);a[Y]=a.height=Z*n;var s=[[0,0,u],[1,0,l],[0,-1,l],[-1,0,l],[0,1,l],[1,-1,q],[-1,-1,q],[-1,1,q],[1,1,q]];for(d=0;Z>d;d++)for(k[d]=[],f=0;Z>f;f++)k[d][f]={d:[],s:[],n:1,x:0,y:0},r(0,0,1),k[d][f].b=p.slice(0),k[d][f].a=p.slice(0);a.onmousemove=function(d){var f=
F(d.layerX/n);d=F(d.layerY/n);for(var h=-5;5>=h;h++)for(var b=-5;5>=b;b++){var e=k[f+h][d+b];r(0.1,0.1,e.c);e.a=p}};(function t(){for(d=0;Z>d;d++)for(f=0;Z>f;f++)for(var h=k[d][f],b=0;9>b;b++){var e=s[b],g=e[0]+d,e=e[1]+f;0<=g&&Z>g&&0<=e&&Z>e&&(k[g][e].b[b]=h.a[b])}for(d=0;Z>d;d++)for(f=0;Z>f;f++){h=k[d][f];b=h.a;for(g=0;9>g;g++)b[g]=h.b[g];var m=b[1]+b[5]+b[8],e=b[4]+b[7]+b[8],g=b[0]+b[2]+b[3]+b[6]+m+e-b[8],m=(m-b[3]-b[6]-b[7])/g,e=(e-b[2]-b[5]-b[6])/g;h.c=g;h.x=m;h.y=e;r(m,e,g);for(g=
0;9>g;g++)e=b[g],h.a[g]=e+1.7*(p[g]-e)}h=c.createImageData(a[Y],a.height);b=h.data;for(d=0;Z>d;d++)for(f=0;Z>f;f++)for(g=S(P(k[d][f].x,2)+P(k[d][f].y,2)),e=f*n;e<(f+1)*n;e++)for(m=d*n;m<(d+1)*n;m++){var l=4*(m+e*h[Y]);b[l+0]=0;b[l+1]=255;b[l+2]=0;b[l+3]=F(4E3*g)}c.putImageData(h,0,0);setInterval(t,10)})()