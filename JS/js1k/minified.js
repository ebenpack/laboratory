(function(){function r(d,e,k){n=[];for(var h=d*d+e*e,b=0;9>b;b++){var g=t[b],g=g[0]*d+g[1]*e,f=b,f=f?5>f?x:y:z;n.push(f*k*(1+3*g+4.5*g*g-1.5*h))}}var l=[],d,e,n=[],z=4/9,x=1/9,y=1/36,s=Math,u=s.sqrt,v=s.pow,q=s.floor,p=q(a.width/200),t=[[0,0],[1,0],[0,-1],[-1,0],[0,1],[1,-1],[-1,-1],[-1,1],[1,1]];a.style.background="#000";for(d=0;200>d;d++)for(l[d]=[],e=0;80>e;e++)l[d][e]={d:[],s:[],n:1,x:0,y:0},r(0,0,1),l[d][e].b=n.slice(0),l[d][e].a=n.slice(0);a.onmousemove=function(d){var e=q(d.layerX/p);d=q(d.layerY/ p);for(var k=-5;5>=k;k++)for(var h=-5;5>=h;h++)if(0<=e+k&&200>e+k&&0<=d+h&&80>d+h&&5>u(k*k+h*h)){var b=l[e+k][d+h];r(0.1,0.1,b.c);b.a=n}};(function w(){for(var k=0;10>k;k++){for(d=0;200>d;d++)for(e=0;80>e;e++)for(var h=l[d][e],b=0;9>b;b++){var g=t[b],f=g[0]+d,g=g[1]+e;0<=f&&200>f&&0<=g&&80>g&&(l[f][g].b[b]=h.a[b])}for(d=0;200>d;d++)for(e=0;80>e;e++){h=l[d][e];b=h.a;for(f=0;9>f;f++)b[f]=h.b[f];var m=b[1]+b[5]+b[8],g=b[4]+b[7]+b[8],f=b[0]+b[2]+b[3]+b[6]+m+g-b[8],m=(m-b[3]-b[6]-b[7])/f,g=(g-b[2]-b[5]- b[6])/f;h.c=f;h.x=m;h.y=g;r(m,g,f);for(f=0;9>f;f++)g=b[f],h.a[f]=g+1.7*(n[f]-g)}}k=c.createImageData(a.width,a.height);h=k.data;for(d=0;200>d;d++)for(e=0;80>e;e++)for(b=u(v(l[d][e].x,2)+v(l[d][e].y,2)),f=e*p;f<(e+1)*p;f++)for(g=d*p;g<(d+1)*p;g++)m=4*(g+f*k.width),h[m+0]=0,h[m+1]=255,h[m+2]=0,h[m+3]=q(4E3*b);c.putImageData(k,0,0);setInterval(w,10)})()})();