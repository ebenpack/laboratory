X='slice'
function u(h,g,l){p=[];for(var e=0;9>e;e++){var f=s[X](4*e,4*e+2)*h+s[X](4*e+2,4*e+4)*g;r=e?5>e?1/9:1/36:4/9;p[e]=r*l*(1+3*f+4.5*f*f-1.5*(h*h+g*g))}}with(Math)S=sqrt,P=pow,F=floor;var Z='width',Y=100,l=[],k,h,g,p=[],v=1,r,s=" 0 0 1 0 0-1-1 0 0 1 1-1-1-1-1 1 1 1",n=F(a[Z]/Y);a[Z]=a.height=Y*n;a.onmousemove=function(h){for(var g=-25;26>g;g++){var k=l[F(h.layerX/n+g/5)][F(h.layerY/n)+g%5];u(.1,.1,k.c);k.a=p}};(function w(){var q=c.createImageData(a[Z],a.height),e=q.data;for(k=0;1E4>
k;k++){v&&(0==g&&(l[h]=[]),l[h][g]={a:[],b:[],c:1,x:0,y:0},u(0,0,1),l[h][g].b=p[X](0),l[h][g].a=p[X](0));var f=l[k%Y][F(k/Y)],d=f.a,d=f.b[X](0),m=d[1]+d[5]+d[8],r=d[3]+d[6]+d[7],t=m+r+d[0]+d[2]+d[4];f.x=(m-r)/t;f.y=(d[4]+d[7]+d[8]-d[2]-d[5]-d[6])/t;f.c=t;u(f.x,f.y,t);for(m=0;9>m;m++)f.a[m]=d[m]+1.7*(p[m]-d[m]);for(f=g*n;f<(g+1)*n;f++)for(d=h*n;d<(h+1)*n;d++)m=4*(d+f*q[Z]),e[m+1]=1E4,e[m+3]=F(4E3*S(P(l[h][g].x,2)+P(l[h][g].y,2)))}v=0;c.putImageData(q,0,0);for(k=0;1E4>k;k++)for(g=F(k/
Y),h=k%Y,q=l[h][g],e=0;9>e;e++)f=1*s[X](4*e,4*e+2)+h,d=1*s[X](4*e+2,4*e+4)+g,0<=f&&Y>f&&0<=d&&Y>d&&(l[f][d].b[e]=q.a[e]);setTimeout(w)})()